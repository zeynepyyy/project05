import{bg as $e,I as Ee,b6 as se,bh as Ke,bi as Qe,b4 as Xe,a4 as Ye,A as Ze,f as et,w as tt,g as De,ay as ot,b5 as nt,a as at,_ as je,v as lt,i as Re,F as st,M as rt,bj as it,S as ut,n as ct,a8 as dt}from"#entry";import{_ as pt}from"./nnavbar-eqdsa2v0.js";import{_ as Ve}from"./nbadge-dv1e6eny.js";import{p as ye,k as P,J as x,X as r,a2 as u,$ as ft,a3 as N,a6 as M,W as E,aa as U,u as _,ab as K,a4 as vt,F as L,ag as H,E as me,x as Ie,d as Oe,C as mt,z as yt,r as ve,q as R,w as ht,ai as Ue,a0 as v,Z as T,ac as Z,a1 as gt,av as _t,K as bt}from"./vendor/json-editor-vue-ho2zu772.js";import{_ as xt}from"./nselect-h7b4tp2d.js";import{_ as Ne}from"./server-route-inputs-ewvvpkab.js";import{_ as kt}from"./code-snippets-gyl3bqgb.js";import{_ as wt}from"./data-schema-button-euw6cc96.js";import{_ as Ct}from"./ncode-block-esxkr86l.js";import{C as we,S as Le}from"./constants-b32h69zq.js";import{_ as St}from"./nsection-block-owu5vx1c.js";import{_ as Tt}from"./ndrawer-j5h6fmbh.js";import"./vendor/shiki-g7cm1eew.js";import"./vendor/unocss-d7th42z7.js";import"./ncheckbox-dg5nbt1d.js";import"./client-c6aoxv2l.js";import"./nicon-title-n11g9rad.js";const $t=ye({__name:"ServerRouteListItem",props:{item:{},index:{default:0}},setup(e){const s=P(!0),o=$e();return(n,m)=>{const f=Ee,c=Ve,b=Pe;return r(),x("div",null,[u("button",{flex:"~ gap-2","w-full":"","items-start":"","items-center":"",px2:"",py1:"","hover-bg-active":"",class:M([{"bg-active":_(o)===e.item.filepath}]),style:vt({paddingLeft:`calc(0.5rem + ${e.index*1.5}em)`}),onClick:m[0]||(m[0]=h=>{s.value=!s.value,o.value=e.item.filepath})},[u("div",{class:M({"w-12":!e.item.routes}),"flex-none":"","text-left":""},[e.item.type==="collection"?(r(),E(f,{key:0,icon:"carbon:chevron-right","mb0.5":"","transform-rotate":s.value?90:0,transition:""},null,8,["transform-rotate"])):(r(),E(c,{key:1,class:M(_(se)(e.item.method||"*")),textContent:U((e.item.method||"*").toUpperCase())},null,8,["class","textContent"]))],2),u("span",{class:M({"flex items-center":e.item.routes}),"text-sm":"","font-mono":""},[e.item.type==="collection"?(r(),E(f,{key:0,title:`${e.item.routes?.length} routes`,icon:"carbon:folder",mr1:""},null,8,["title"])):N("",!0),K(" "+U(e.item.route),1)],2)],6),m[1]||(m[1]=u("div",{"x-divider":""},null,-1)),s.value?ft(n.$slots,"default",{key:0},()=>[(r(!0),x(L,null,H(e.item.routes,h=>(r(),E(b,{key:h.filepath,item:h,index:e.index+1},null,8,["item","index"]))),128))]):N("",!0)])}}}),Pe=Object.assign($t,{__name:"ServerRouteListItem"});function Et(e,s){if(typeof e!="string")throw new TypeError("argument str must be a string");const o={},n=s||{},m=n.decode||Dt;let f=0;for(;f<e.length;){const c=e.indexOf("=",f);if(c===-1)break;let b=e.indexOf(";",f);if(b===-1)b=e.length;else if(b<c){f=e.lastIndexOf(";",c-1)+1;continue}const h=e.slice(f,c).trim();if(n?.filter&&!n?.filter(h)){f=b+1;continue}if(o[h]===void 0){let i=e.slice(c+1,b).trim();i.codePointAt(0)===34&&(i=i.slice(1,-1)),o[h]=jt(i,m)}f=b+1}return o}function Dt(e){return e.includes("%")?decodeURIComponent(e):e}function jt(e,s){try{return s(e)}catch{return e}}const ae=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Ce(e,s,o){const n=o||{},m=n.encode||encodeURIComponent;if(typeof m!="function")throw new TypeError("option encode is invalid");if(!ae.test(e))throw new TypeError("argument name is invalid");const f=m(s);if(f&&!ae.test(f))throw new TypeError("argument val is invalid");let c=e+"="+f;if(n.maxAge!==void 0&&n.maxAge!==null){const b=n.maxAge-0;if(Number.isNaN(b)||!Number.isFinite(b))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(b)}if(n.domain){if(!ae.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!ae.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if(!Rt(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{c+="; Priority=Low";break}case"medium":{c+="; Priority=Medium";break}case"high":{c+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{c+="; SameSite=Strict";break}case"lax":{c+="; SameSite=Lax";break}case"strict":{c+="; SameSite=Strict";break}case"none":{c+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(c+="; Partitioned"),c}function Rt(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function A(e){if(typeof e!="object")return e;var s,o,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){o=new e.constructor;for(s in e)e.hasOwnProperty(s)&&o[s]!==e[s]&&(o[s]=A(e[s]))}else{o={};for(s in e)s==="__proto__"?Object.defineProperty(o,s,{value:A(e[s]),configurable:!0,enumerable:!0,writable:!0}):o[s]=A(e[s])}return o}if(n==="[object Array]"){for(s=e.length,o=Array(s);s--;)o[s]=A(e[s]);return o}return n==="[object Set]"?(o=new Set,e.forEach(function(m){o.add(A(m))}),o):n==="[object Map]"?(o=new Map,e.forEach(function(m,f){o.set(A(f),A(m))}),o):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(o=new RegExp(e.source,e.flags),o.lastIndex=e.lastIndex,o):n==="[object DataView]"?new e.constructor(A(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}const Vt={path:"/",watch:!0,decode:e=>Ke(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},le=globalThis.cookieStore;function It(e,s){const o={...Vt,...s};o.filter??=i=>i===e;const n=Se(o)||{};let m;o.maxAge!==void 0?m=o.maxAge*1e3:o.expires&&(m=o.expires.getTime()-Date.now());const f=m!==void 0&&m<=0,c=f||n[e]===void 0||n[e]===null,b=A(f?void 0:n[e]??o.default?.()),h=m&&!f?Nt(b,m,o.watch&&o.watch!=="shallow"):P(b);{let i=null;try{!le&&typeof BroadcastChannel<"u"&&(i=new BroadcastChannel(`nuxt:cookies:${e}`))}catch{}const D=(k=!1)=>{!k&&(o.readonly||Qe(h.value,n[e]))||(Ut(e,h.value,o),n[e]=A(h.value),i?.postMessage({value:o.encode(h.value)}))},I=k=>{const y=k.refresh?Se(o)?.[e]:o.decode(k.value);B=!0,h.value=y,n[e]=A(y),yt(()=>{B=!1})};let B=!1;const J=!!Oe();if(J&&me(()=>{B=!0,D(),i?.close()}),le){const k=y=>{const O=y.changed.find(C=>C.name===e),g=y.deleted.find(C=>C.name===e);O&&I({value:O.value}),g&&I({value:null})};le.addEventListener("change",k),J&&me(()=>le.removeEventListener("change",k))}else i&&(i.onmessage=({data:k})=>I(k));o.watch&&Ie(h,()=>{B||D()},{deep:o.watch!=="shallow"}),c&&D(c)}return h}function Se(e={}){return Et(document.cookie,e)}function Ot(e,s,o={}){return s==null?Ce(e,s,{...o,maxAge:-1}):Ce(e,s,o)}function Ut(e,s,o={}){document.cookie=Ot(e,s,o)}const Te=2147483647;function Nt(e,s,o){let n,m,f=0;const c=o?P(e):{value:e};return Oe()&&me(()=>{m?.(),clearTimeout(n)}),mt((b,h)=>{o&&(m=Ie(c,h));function i(){f=0,clearTimeout(n);const D=s-f,I=D<Te?D:Te;n=setTimeout(()=>{if(f+=I,f<s)return i();c.value=void 0,h()},I)}return{get(){return b(),c.value},set(D){i(),c.value=D,h()}}})}const Lt={"h-full":"","w-full":"",flex:"~ col"},Pt={flex:"~ col gap-2","n-navbar-glass":"","flex-none":"",p4:""},At={flex:"~ gap2 items-center"},Bt={relative:"","w-full":""},qt={absolute:"","right-2":"","top-1.5":"",flex:"~ gap-1"},Mt={flex:"~ gap2 wrap","w-full":"","items-center":"",px4:"",pb2:"","text-center":"","text-sm":"",border:"b base"},Ft={class:"hidden md:block"},zt={key:0,border:"b base","items-center":"",px4:"",py2:"",grid:"~ cols-[max-content_1fr] gap-2"},Ht={"text-right":"","font-mono":""},Jt={key:1,border:"b base",p4:"",flex:"~ col gap-4","font-mono":""},Wt={flex:"~ gap-4"},Gt={flex:"~ gap2","mb--2":"","items-center":"",op50:""},Kt={key:2},Qt={key:3,border:"b base",relative:"","n-code-block":""},Xt={flex:"~ wrap","w-full":""},Yt=["onClick"],Zt={border:"b base",flex:"~ gap2","items-center":"",px4:"",py2:""},eo={key:1,"text-xs":"",op50:""},to={key:0,"flex-auto":"","overflow-auto":""},oo={border:"~ base","h-full":"","w-full":"",rounded:""},no=["data"],ao={key:2,"flex-auto":"","overflow-auto":"",p4:""},lo={border:"~ base",rounded:""},so=["src"],ro={key:1,controls:"",rounded:""},io=["src"],uo=ye({__name:"ServerRouteDetails",props:{route:{}},emits:["openDefaultInput"],setup(e,{emit:s}){const o=e,n=s,[m,f]=Xe(),c=Ye(),b=Ze(),h=et(),i=ve({contentType:"text/plain",data:"",statusCode:200,error:void 0,fetchTime:0}),D=R(()=>i.contentType.includes("application/json")?"json":i.contentType.includes("text/html")?"html":i.contentType.includes("text/css")?"css":i.contentType.includes("text/javascript")?"javascript":i.contentType.includes("image")||i.contentType.includes("video")?"media":i.contentType.includes("text/xml")||i.contentType.includes("application/xml")?"xml":i.contentType.includes("application/pdf")?"pdf":"text"),I=R(()=>{if(D.value==="json")return JSON.stringify(i.data,null,2);if(D.value==="media"||D.value==="pdf"){const a=new Blob([i.data],{type:i.contentType});return URL.createObjectURL(a)}return i.data}),B=P(!1),J=P(!1),k=tt(),y=R(()=>o.route.route?.split(/((?:\*\*)?:\w+)/g)),O=R(()=>y.value?.filter(a=>a.startsWith(":")||a.startsWith("**:"))||[]),g=P(o.route.method||"GET"),C=P({}),w=ve({query:[{active:!0,key:"",value:"",type:"string"}],body:[{active:!0,key:"",value:"",type:"string"}],headers:[{active:!0,key:"Content-Type",value:"application/json",type:"string"}]}),V=P({}),{inputDefaults:S,sendFrom:F}=De("serverRoutes"),Q=R(()=>h?.value?.app?.$fetch?F.value:"devtools"),re=["GET","POST","PUT","PATCH","DELETE","HEAD"],ie=["PATCH","POST","PUT","DELETE"],ee=R(()=>ie.includes(g.value.toUpperCase())),d=P(),te=["input","json"],W=P(te[0]),ue=R({get:()=>w[d.value],set:a=>{w[d.value]=a}}),he=R(()=>({...G(S.value.query),...G(w.query)})),ge=R(()=>({...G(S.value.headers),...G(w.headers)})),ce=R(()=>ee.value?W.value==="json"?{...G(S.value.body),...V.value}:{...G(S.value.body),...G(w.body)}:void 0),Ae=R(()=>{let a=window?.location.origin;return a.charAt(a.length-1)==="/"&&(a=a.slice(0,-1)),a}),oe=R(()=>{let a=new URLSearchParams(he.value).toString();a&&(a=`?${a}`);const t=(y.value?.map(j=>(j.startsWith(":")||j.startsWith("**:"))&&C.value[j]||j).join("")||"")+a;let p=b.value?.app.baseURL||"";return(p==="./"||p===".")&&(p=""),p.endsWith("/")&&(p=p.slice(0,-1)),p+t}),_e=R(()=>Ae.value+oe.value);function G(a=[]){const t=Object.fromEntries(a.filter(({active:p,key:j,value:$})=>p&&j&&$!==void 0).map(({key:p,value:j})=>[p,j]));return Object.entries(t).length?t:void 0}async function be(){J.value=!0,B.value=!0;const a=Date.now(),t=Q.value==="app"?h.value.app.$fetch:$fetch;rt("server-routes:fetch",{method:g.value,sendFrom:Q.value});try{i.data=await t(_e.value,{method:g.value.toUpperCase(),headers:ge.value,query:he.value,body:ce.value,onResponse({response:p}){i.contentType=(p.headers.get("content-type")||"").toString().toLowerCase().trim(),i.statusCode=p.status,i.error=void 0},onResponseError(p){i.error=p.response._data,i.data=p.response._data}})}catch{}B.value=!1,i.fetchTime=Date.now()-a}const xe=R(()=>{const a=[],t=[],p=Object.entries(ge.value).filter(([$,q])=>$&&q&&!($==="Content-Type"&&q==="application/json")).map(([$,q])=>`  '${$}': '${q}'`).join(`,
`);g.value.toUpperCase()!=="GET"&&t.push(`method: '${g.value.toUpperCase()}'`),p&&t.push(`headers: {
${p}
}`),ce.value&&t.push(`body: ${JSON.stringify(ce.value,null,2)}`);const j=t.length?`, {
${t.join(`,
`).split(`
`).map($=>`  ${$}`).join(`
`)}
}`:"";return a.push({name:"useFetch",lang:"javascript",docs:we.nuxt.useFetch,code:`const { data, pending, error, refresh } = useFetch('${oe.value}'${j})`}),a.push({name:"$fetch",lang:"javascript",docs:we.nuxt.$fetch,code:`await $fetch('${oe.value}'${j})`}),a}),X=P(qe()),z=ve({key:"",value:""}),Be=R(()=>{const a=[];return O.value.length&&a.push({name:"Params",slug:"params",length:O.value.length}),a.push({name:"Query",slug:"query",length:w.query.length}),ee.value&&a.push({name:"Body",slug:"body",length:w.body.length}),a.push({name:"Headers",slug:"headers",length:w.headers.length}),a.push({name:"Cookies",slug:"cookies",length:X.value.length}),a.push({name:"Snippets",slug:"snippet"}),a});function qe(){return document.cookie.split("; ").map(a=>{const[t,p]=a.split("=");return{key:t,value:p}}).filter(a=>a.key)}function de(a,t){if(!a)return;const p=X.value.find($=>$.key===a),j=It(a);p!==void 0?t===void 0&&(X.value=X.value.filter($=>$.key!==a)):(X.value.push({key:a,value:t}),z.key="",z.value=""),j.value=t}ht(()=>{W.value==="json"&&typeof V.value=="string"&&(V.value=JSON.parse(V.value))});const pe=ot("nuxt-devtools:server-routes:inputs",()=>[],{window:window.parent});nt([w,d],()=>{const a=pe.value?.find(t=>t.path===o.route.filepath);if(a){d.value||(d.value=a.tab),a.tab!==d.value&&(a.tab=d.value);const{body:t,query:p,headers:j,params:$}=a.inputs;Object.assign(w,{body:t,query:p,headers:j}),C.value=$}else{const t={path:o.route.filepath,tab:O.value.length?"params":"query",inputs:{...w,...O.value.length?{params:C.value}:{}}};pe.value.push(t),d.value||(d.value=t.tab)}},{immediate:!0,deep:!0,debounce:500});function Me(){pe.value=[],w.body=[],w.query=[],w.headers=[],C.value={},d.value=O.value.length?"params":"query"}const Fe=at();return(a,t)=>{const p=je,j=xt,$=lt,q=Ee,ke=Ne,ze=kt,He=Re,Je=st,fe=Ve,We=wt,Ge=Ct,ne=Ue("tooltip");return r(),x("div",Lt,[u("div",Pt,[u("div",At,[e.route.method?(r(),E(p,{key:0,class:M(["n-badge-base n-sm",_(se)(g.value)]),"pointer-events-none":"","font-mono":"",tabindex:"-1"},{default:T(()=>[K(U(g.value.toUpperCase()),1)]),_:1},8,["class"])):(r(),E(j,{key:1,modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=l=>g.value=l),class:M(["n-badge-base n-sm",_(se)(g.value)])},{default:T(()=>[(r(),x(L,null,H(re,l=>u("option",{key:l,class:M(_(se)(l))},U(l.toUpperCase()),3)),64))]),_:1},8,["modelValue","class"])),u("div",Bt,[v($,{"model-value":oe.value,readonly:"","flex-auto":"","font-mono":"",p:"x5 y2",n:"sm"},null,8,["model-value"]),u("div",qt,[Z(v(p,{title:"Copy URL",n:"xs blue",icon:"carbon:copy",border:!1,onClick:t[1]||(t[1]=l=>_(Fe)(_e.value,"server-route-url"))},null,512),[[ne,"Copy URL"]]),Z(v(p,{title:"Open in Editor",icon:"carbon-launch",n:"xs blue",border:!1,onClick:t[2]||(t[2]=l=>_(k)(e.route.filepath))},null,512),[[ne,"Open in Editor"]])])]),v(p,{"h-full":"",n:"primary solid",onClick:be},{default:T(()=>[v(q,{icon:"carbon:send"})]),_:1})])]),u("div",Mt,[(r(!0),x(L,null,H(Be.value,l=>Z((r(),E(p,{key:l.slug,class:M(d.value===l.slug?"text-primary n-primary":"border-transparent shadow-none"),onClick:Y=>d.value=l.slug},{default:T(()=>[v(q,{icon:_(Le)[l.slug]},null,8,["icon"]),u("div",Ft,[K(U(l.name)+" "+U(l?.length?`(${l.length})`:"")+" ",1),u("span",null,U(_(S)[l.slug]?.length?`(${_(S)[l.slug].length})`:""),1)])]),_:2},1032,["class","onClick"])),[[ne,l.name]])),128)),t[12]||(t[12]=u("div",{"flex-auto":""},null,-1)),t[13]||(t[13]=u("div",{"text-xs":"",op50:""}," Send from ",-1)),v(j,{modelValue:Q.value,"onUpdate:modelValue":t[3]||(t[3]=l=>Q.value=l),class:"n-xs",disabled:!_(h)?.app?.$fetch},{default:T(()=>[...t[11]||(t[11]=[u("option",{value:"app"}," App ",-1),u("option",{value:"devtools"}," DevTools ",-1)])]),_:1},8,["modelValue","disabled"]),Z(v(p,{n:"orange",class:"p-3",icon:"i-carbon-clean",onClick:Me},null,512),[[ne,"Clear Inputs Saved Cache"]])]),d.value==="params"?(r(),x("div",zt,[(r(!0),x(L,null,H(O.value,l=>(r(),x(L,{key:l},[u("div",Ht,U(l),1),v($,{modelValue:C.value[l],"onUpdate:modelValue":Y=>C.value[l]=Y,placeholder:l,"flex-1":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])],64))),128))])):N("",!0),d.value==="cookies"?(r(),x("div",Jt,[(r(!0),x(L,null,H(X.value,l=>(r(),x("div",{key:l.key,flex:"~ gap-4 items-center"},[v($,{placeholder:"Key...","model-value":l.key,disabled:"","op-70":""},null,8,["model-value"]),v($,{placeholder:"Value...","model-value":l.value,"flex-1":"",n:"primary",onInput:Y=>de(l.key,Y.target?.value)},null,8,["model-value","onInput"]),v(p,{title:"Delete",n:"red",onClick:Y=>de(l.key,void 0)},{default:T(()=>[v(q,{icon:"i-carbon-trash-can"})]),_:1},8,["onClick"])]))),128)),u("div",Wt,[v($,{modelValue:z.key,"onUpdate:modelValue":t[4]||(t[4]=l=>z.key=l),placeholder:"Key",n:"primary","flex-1":""},null,8,["modelValue"]),v($,{modelValue:z.value,"onUpdate:modelValue":t[5]||(t[5]=l=>z.value=l),placeholder:"Value",n:"primary","flex-1":""},null,8,["modelValue"]),v(p,{title:"Add",n:"primary",onClick:t[6]||(t[6]=l=>de(z.key,z.value))},{default:T(()=>[v(q,{icon:"i-carbon-save"})]),_:1})])])):N("",!0),v(_(m),null,{default:T(()=>[v(ke,{modelValue:ue.value,"onUpdate:modelValue":t[9]||(t[9]=l=>ue.value=l),default:{active:!0,type:"string"},"max-h-xs":"","of-auto":""},{default:T(()=>[_(S)[d.value]?.length?(r(),x(L,{key:0},[u("div",Gt,[t[14]||(t[14]=u("div",{"w-5":"","x-divider":""},null,-1)),t[15]||(t[15]=u("div",{"flex-none":""}," Default Inputs ",-1)),v(p,{icon:"i-carbon-edit",border:!1,onClick:t[7]||(t[7]=l=>n("openDefaultInput"))}),t[16]||(t[16]=u("div",{"x-divider":""},null,-1))]),v(ke,{modelValue:_(S)[d.value],"onUpdate:modelValue":t[8]||(t[8]=l=>_(S)[d.value]=l),disabled:"",p0:""},null,8,["modelValue"])],64)):N("",!0)]),_:1},8,["modelValue"])]),_:1}),d.value==="snippet"?(r(),x("div",Kt,[xe.value.length?(r(),E(ze,{key:0,"code-snippets":xe.value},null,8,["code-snippets"])):N("",!0)])):ue.value?(r(),x("div",Qt,[d.value==="body"?(r(),x(L,{key:0},[u("div",Xt,[(r(),x(L,null,H(te,l=>u("button",{key:l,px4:"",py2:"",border:"r base",hover:"bg-active",class:M({"border-b":l!==W.value}),onClick:Y=>W.value=l},[u("div",{class:M({op30:l!==W.value}),"font-mono":""},U(l),3)],10,Yt)),64)),t[17]||(t[17]=u("div",{border:"b base","flex-auto":""},null,-1))]),W.value==="input"?(r(),E(_(f),{key:0})):W.value==="json"?(r(),E(_(_t),gt({key:1,modelValue:V.value,"onUpdate:modelValue":t[10]||(t[10]=l=>V.value=l),class:[_(c)==="dark"?"jse-theme-dark":"light","json-editor-vue of-auto text-sm outline-none"]},a.$attrs,{mode:"text","navigation-bar":!1,indentation:2,"tab-size":2}),null,16,["modelValue","class"])):N("",!0)],64)):(r(),E(_(f),{key:1}))])):N("",!0),J.value?B.value?(r(),E(Je,{key:5,"z-10":"","flex-auto":"","backdrop-blur":""},{default:T(()=>[...t[19]||(t[19]=[K(" Fetching... ",-1)])]),_:1})):(r(),x(L,{key:6},[u("div",Zt,[t[21]||(t[21]=u("div",null,"Response",-1)),i.error?(r(),E(fe,{key:0,n:"red"},{default:T(()=>[...t[20]||(t[20]=[K(" Error ",-1)])]),_:1})):N("",!0),v(fe,{n:i.error?"orange":"green",textContent:U(i.statusCode)},null,8,["n","textContent"]),i.contentType?(r(),x("code",eo,U(i.contentType),1)):N("",!0),i.contentType==="application/json"?(r(),E(We,{key:2,getter:()=>({input:I.value})},null,8,["getter"])):N("",!0),t[22]||(t[22]=u("div",{"flex-auto":""},null,-1)),t[23]||(t[23]=u("div",{op50:""}," Request finished in ",-1)),v(fe,{n:"green"},{default:T(()=>[K(U(i.fetchTime)+" ms ",1)]),_:1})]),D.value==="pdf"?(r(),x("div",to,[u("div",oo,[u("object",{data:I.value,type:"application/pdf","flex-auto":"",width:"100%",height:"100%",rounded:""},null,8,no)])])):D.value!=="media"?(r(),E(Ge,{key:1,"flex-auto":"","overflow-auto":"","py-2":"",code:I.value,lang:D.value},null,8,["code","lang"])):(r(),x("div",ao,[u("div",lo,[i.contentType.includes("image")?(r(),x("img",{key:0,rounded:"",src:I.value},null,8,so)):(r(),x("video",ro,[u("source",{src:I.value,type:"video/mp4"},null,8,io)]))])]))],64)):(r(),E(He,{key:4},{default:T(()=>[v(p,{n:"primary",onClick:be},{default:T(()=>[v(q,{icon:"carbon:send"}),t[18]||(t[18]=K(" Send request ",-1))]),_:1})]),_:1}))])}}}),co=Object.assign(uo,{__name:"ServerRouteDetails"}),po={flex:"~ gap1","text-sm":""},fo={key:0,op50:""},vo={op50:""},Vo=ye({__name:"server-routes",setup(e){const s=P(!1),o=it(),n=$e(),{selectedRoute:m,view:f,inputDefaults:c}=De("serverRoutes"),b=R(()=>{!n.value&&m.value&&(n.value=m.value.filepath);const k=o.value?.find(y=>y.filepath===n.value);return n.value!==m.value?.filepath&&k&&(m.value=k),k}),h=P(""),i=R(()=>new ut(o.value||[],{keys:["method","route"],shouldSort:!0})),D=R(()=>o.value?h.value?i.value.search(h.value).map(y=>y.item):o.value:[]),I=R(()=>{const k=[],y=(g,C)=>{g.routes=g.routes||[],g.routes.push(C)},O=(g,C)=>{const w=C?C.routes?.find(S=>S.route===g):k.find(S=>S.route===g);if(w)return w;const V={route:g,filepath:g.replace(/\W/g,"-").toLowerCase(),type:"collection",routes:[]};return C?y(C,V):k.push(V),V};return D.value.forEach(g=>{let C,w;const V=g.filepath.split("/"),S=V.slice(V.indexOf("server")+1);if(g.type==="runtime"){S[0]="runtime";const F=V.indexOf("dist");F!==-1&&(C=V[F-1],C&&S.splice(1,0,C))}S.length>0&&S[S.length-1].includes(".")&&S.pop(),S.forEach(F=>{w=O(F,w)}),w?y(w,g):k.push(g)}),k});function B(){f.value=f.value==="tree"?"list":"tree"}function J(k){return k.charAt(0).toUpperCase()+k.slice(1)}return(k,y)=>{const O=je,g=pt,C=Pe,w=co,V=ct,S=Re,F=dt,Q=Ne,re=St,ie=Tt,ee=Ue("tooltip");return r(),x(L,null,[v(F,{"storage-key":"tab-server-routes"},{left:T(()=>[v(g,{search:h.value,"onUpdate:search":y[1]||(y[1]=d=>h.value=d),pb2:""},{actions:T(()=>[Z(v(O,{"text-lg":"",icon:_(f)==="list"?"i-carbon-list":"i-carbon-tree-view-alt",title:"Toggle view",border:!1,onClick:B},null,8,["icon"]),[[ee,"Toggle View"]]),Z(v(O,{"text-lg":"",icon:"i-carbon-cics-sit-overrides",title:"Default Inputs",border:!1,onClick:y[0]||(y[0]=d=>s.value=!s.value)},null,512),[[ee,"Default Inputs"]])]),default:T(()=>[u("div",po,[h.value?(r(),x("span",fo,U(D.value.length)+" matched Â· ",1)):N("",!0),u("span",vo,U(_(o)?.length)+" routes in total",1)])]),_:1},8,["search"]),(r(!0),x(L,null,H(_(f)==="tree"?I.value:D.value,d=>(r(),E(C,{key:d.filepath,item:d},null,8,["item"]))),128))]),right:T(()=>[(r(),E(bt,{max:10},[b.value?(r(),E(w,{key:b.value.filepath,route:b.value,onOpenDefaultInput:y[2]||(y[2]=d=>s.value=!0)},null,8,["route"])):N("",!0)],1024)),b.value?N("",!0):(r(),E(S,{key:0},{default:T(()=>[v(V,{px6:"",py2:""},{default:T(()=>[...y[5]||(y[5]=[u("span",{op75:""},"Select a route to start",-1)])]),_:1})]),_:1}))]),_:1}),v(ie,{modelValue:s.value,"onUpdate:modelValue":y[3]||(y[3]=d=>s.value=d),"auto-close":"","max-w-xl":"","min-w-xl":"",onClose:y[4]||(y[4]=d=>s.value=!1)},{default:T(()=>[u("div",null,[y[6]||(y[6]=u("div",{p4:"",border:"b base"},[u("span",{"text-lg":""},"Default Inputs"),u("br"),u("span",{"text-black":"",op50:"","dark:text-white":""},"Merged as default for every request in DevTools")],-1)),(r(!0),x(L,null,H(Object.keys(_(c)),d=>(r(),E(re,{key:d,text:`${J(d)} ${_(c)[d]?.length?`(${_(c)[d].length})`:""}`,padding:!1,icon:_(Le)[d]},{default:T(()=>[v(Q,{modelValue:_(c)[d],"onUpdate:modelValue":te=>_(c)[d]=te,py0:"",default:{active:!0,type:"string"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["text","icon"]))),128))])]),_:1},8,["modelValue"])],64)}}});export{Vo as default};
