import{a4 as N,H as C,_ as O}from"#entry";import{_ as D}from"./data-schema-button-euw6cc96.js";import{p as j,n as b,D as z,x as E,ai as J,J as u,X as i,u as n,a2 as m,a3 as d,$ as M,a6 as p,aa as k,a7 as P,a8 as R,F as _,ac as $,W as h,a0 as A,av as F,a1 as H,z as T}from"./vendor/json-editor-vue-ho2zu772.js";const U=["open"],W={flex:"~ gap2","select-none":"","items-center":"",px4:""},X={key:0,class:"bg-red:10 px5 py3 text-red"},q=j({__name:"StateEditor",props:{name:{},open:{type:Boolean},revision:{},state:{},readonly:{type:Boolean}},emits:["update:open"],setup(o,{emit:x}){const s=o,r=C(s,"open",x,{passive:!0}),S=N(),l=b(),c=b();function v(e){return["number","bigint","string","boolean"].includes(typeof e)}function y(){c.value=void 0;try{l.value=v(s.state)?s.state:JSON.parse(JSON.stringify(s.state||{}))}catch(e){console.error(e),c.value=e}}z(()=>{y(),E(()=>[s.revision,s.state],([e,t])=>{v(t)?l.value=s.state:f(t,s.state)},{deep:!0})});function f(e,t){for(const a in e)Array.isArray(e[a])?t[a]=e[a].slice():typeof e[a]=="object"&&e[a]!==null?f(e[a],t[a]):t[a]=e[a]}async function V(){y(),await T()}return(e,t)=>{const a=O,B=D,w=J("tooltip");return i(),u("div",{class:"state-editor-details",open:o.name?n(r):!0},[m("div",W,[o.name?(i(),u("button",{key:0,flex:"~","cursor-pointer":"","items-center":"",class:p(n(r)?"":"op50"),onClick:t[0]||(t[0]=g=>r.value=!n(r))},[m("div",{"i-carbon-chevron-right":"",transition:"",class:p(n(r)?"rotate-90 op0":"")},null,2),m("code",{px3:"",py1:"","font-mono":"",class:p(n(r)?"bg-[#8881] rounded-t":"rounded hover:bg-active")},k(o.name),3)],2)):d("",!0),M(e.$slots,"actions",P(R({isOpen:n(r),name:o.name,state:o.state}))),n(r)?(i(),u(_,{key:1},[$(A(a,{title:"Refresh View",icon:"carbon-renew",border:!1,onClick:V},null,512),[[w,"Refresh View",void 0,{bottom:!0}]]),l.value&&!c.value?(i(),h(B,{key:0,getter:()=>({name:o.name,input:JSON.stringify(l.value)})},null,8,["getter"])):d("",!0)],64)):d("",!0)]),n(r)||!o.name?(i(),u(_,{key:0},[c.value?(i(),u("div",X," Error: "+k(c.value),1)):(i(),h(n(F),H({key:1,modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=g=>l.value=g)},e.$attrs,{class:["json-editor-vue",[n(S)==="dark"?"jse-theme-dark":"",(o.name,"")]],"main-menu-bar":!1,"navigation-bar":!1,"status-bar":!1,"read-only":s.readonly,indentation:2,"tab-size":2}),null,16,["modelValue","class","read-only"]))],64)):d("",!0)],8,U)}}}),Q=Object.assign(q,{__name:"StateEditor"});export{Q as _};
