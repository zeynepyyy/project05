import{_ as D}from"./ncheckbox-dg5nbt1d.js";import{H as F,v as O,_ as R,I as T}from"#entry";import{_ as A}from"./nselect-h7b4tp2d.js";import{p as E,q as C,x as L,J as r,X as o,a3 as m,$ as y,F as v,ag as h,W as i,a6 as b,a0 as V,Z as g,a2 as S,aa as q,u as c,ab as $}from"./vendor/json-editor-vue-ho2zu772.js";const z={p4:"",flex:"~ col gap-4"},H={key:1,ml2:"",flex:""},J=["value"],K={key:0,flex:"","gap-4":""},M=E({__name:"ServerRouteInputs",props:{modelValue:{},keys:{default:()=>[]},default:{default:()=>({})},disabled:{type:Boolean,default:!1}},setup(n,{emit:U}){const _=n,d=F(_,"modelValue",U,{passive:!0}),N=C(()=>[..._.keys,"active","key","value","type"]),I=C(()=>{const t={};for(const e of N.value)t[e]=_.default[e]||"";return t}),w=["string","number","boolean","file","date","time","datetime-local"];function B(t,e){const u=e.target;if(u.files&&u.files[0]){const p=u.files[0],f=new FileReader;f.readAsDataURL(p),f.onload=()=>{d.value[t].value=f.result}}}return L(()=>d,t=>{t.value.forEach(e=>{if(e.type==="number"&&typeof e.value!="number"){const u=Number.parseFloat(e.value);e.value=Number.isNaN(u)?0:u}else e.type==="boolean"&&typeof e.value!="boolean"?e.value=!0:e.type==="file"&&typeof e.value!="object"?e.value="":e.type==="date"&&typeof e.value=="string"&&!e.value.match(/^\d{4}-\d{2}-\d{2}$/)?e.value=new Date().toISOString().slice(0,10):e.type==="time"&&typeof e.value=="string"&&!e.value.match(/^\d{2}:\d{2}$/)?e.value=new Date().toISOString().slice(11,16):e.type==="datetime-local"&&typeof e.value=="string"&&!e.value.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/)?e.value=new Date().toISOString().slice(0,16):e.type==="string"&&(e.value=e.value.toString())})},{deep:!0,immediate:!0,flush:"sync"}),(t,e)=>{const u=D,p=O,f=A,j=T,k=R;return o(),r("div",z,[(o(!0),r(v,null,h(c(d),(l,x)=>(o(),r("div",{key:x,flex:"~ gap-2","justify-around":""},[y(t.$slots,"input",{item:l}),(o(!0),r(v,null,h(N.value,s=>(o(),r(v,{key:s},[l.type!==null&&s==="active"?(o(),i(u,{key:0,modelValue:l[s],"onUpdate:modelValue":a=>l[s]=a,n:"sm primary",disabled:n.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])):m("",!0),l.type!==null&&s==="key"?(o(),i(p,{key:1,modelValue:l[s],"onUpdate:modelValue":a=>l[s]=a,placeholder:s,"flex-1":"","font-mono":"",n:"sm primary",disabled:n.disabled,class:b(n.disabled?"op50":"")},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","class"])):s==="value"?(o(),r(v,{key:2},[l.type==="file"?(o(),i(p,{key:0,type:"file",disabled:n.disabled,class:b(n.disabled?"op75":""),onChange:a=>B(x,a)},null,8,["disabled","class","onChange"])):l.type==="boolean"?(o(),r("div",H,[V(u,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,placeholder:"Value",n:"green lg",disabled:n.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])):(o(),i(p,{key:2,modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,type:l.type,placeholder:"Value","flex-1":"","font-mono":"",n:"sm primary",disabled:n.disabled,class:b(n.disabled?"op75":"")},null,8,["modelValue","onUpdate:modelValue","type","disabled","class"]))],64)):s==="type"?(o(),i(f,{key:3,modelValue:l.type,"onUpdate:modelValue":a=>l.type=a,n:"sm green",class:b(n.disabled?"op75":""),disabled:n.disabled},{default:g(()=>[(o(),r(v,null,h(w,a=>S("option",{key:a,value:a},q(a),9,J)),64))]),_:1},8,["modelValue","onUpdate:modelValue","class","disabled"])):m("",!0)],64))),128)),y(t.$slots,"input-actions",{},()=>[V(k,{n:"red",disabled:n.disabled,class:b(n.disabled?"op0!":""),onClick:s=>c(d).splice(x,1)},{default:g(()=>[V(j,{icon:"carbon:trash-can"})]),_:1},8,["disabled","class","onClick"])])]))),128)),n.disabled?m("",!0):(o(),r("div",K,[y(t.$slots,"actions",{params:c(d)},()=>[V(k,{icon:"carbon-add",n:"sm primary",my1:"","px-3":"",onClick:e[0]||(e[0]=l=>c(d).push({...I.value}))},{default:g(()=>[...e[2]||(e[2]=[$(" Add ",-1)])]),_:1}),e[4]||(e[4]=S("div",{"flex-auto":""},null,-1)),c(d).length?(o(),i(k,{key:0,icon:"carbon-trash-can",n:"sm red",my1:"","px-3":"",onClick:e[1]||(e[1]=l=>c(d).splice(0,c(d).length))},{default:g(()=>[...e[3]||(e[3]=[$(" Remove All ",-1)])]),_:1})):m("",!0)])])),y(t.$slots,"default")])}}}),Q=Object.assign(M,{__name:"ServerRouteInputs"});export{Q as _};
